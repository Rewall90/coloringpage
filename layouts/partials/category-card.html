{{/* Category Card Partial - Used on homepage to display category tiles */}}
{{ $category := .category }}

<article class="group block transition-all duration-300 hover:-translate-y-1" role="gridcell">
  <a href="{{ $category.RelPermalink }}" class="block" aria-labelledby="category-{{ $category.Title | urlize }}">
    {{/* Category Image Container */}}
    <div class="relative aspect-[3/4] overflow-hidden rounded-lg shadow-lg group-hover:shadow-xl transition-shadow duration-300">
      {{/* Category Image */}}
      {{ with $category.Params.featureimage }}
        <img 
          src="{{ . }}" 
          alt="{{ $category.Params.image_alt | default $category.Title }}"
          class="w-full h-full object-cover"
          loading="lazy"
        >
      {{ else }}
        {{/* Fallback if no image */}}
        <div class="w-full h-full bg-gradient-to-br from-primary-400 to-primary-600"></div>
      {{ end }}
      
      {{/* Item count badge (optional) */}}
      {{ $count := len (where $category.Pages "Type" "coloring-page") }}
      {{ if gt $count 0 }}
        <div class="absolute top-2 right-2 bg-white/90 backdrop-blur-sm rounded-full px-2 py-1">
          <span class="text-xs font-semibold text-neutral-700">{{ $count }}</span>
        </div>
      {{ end }}
    </div>
    
    {{/* Category Title - Now below the image */}}
    <div class="mt-3">
      <h3 id="category-{{ $category.Title | urlize }}" class="text-neutral-900 dark:text-neutral-100 font-bold text-center group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-200" style="font-size: 18px;">
        {{ $category.Title }}
      </h3>
    </div>
  </a>
</article>